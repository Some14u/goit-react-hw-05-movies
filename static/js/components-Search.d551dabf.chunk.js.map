{"version":3,"file":"static/js/components-Search.d551dabf.chunk.js","mappings":"4OAKMA,GAAgBC,EAAAA,EAAAA,qBAAoB,CAAEC,OAAO,GAAQ,4BAG5C,SAASC,IACtB,IAAMC,GAAaC,EAAAA,EAAAA,iBAEbC,GAAWC,EAAAA,EAAAA,UAAQ,WACvB,OAAO,IAAIC,gBAAgBJ,EAAWK,IAAIC,QAAQC,IAAI,WACrD,CAACP,EAAWK,IAAIC,SACnB,GAAkCE,EAAAA,EAAAA,UAASN,GAAY,IAAvD,eAAOO,EAAP,KAAkBC,EAAlB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KAmBA,OAjBAC,EAAAA,EAAAA,YAAU,WACRD,EAAaV,GACbQ,EAAaR,GAAY,MACxB,CAACA,KAeF,iCACE,UAAC,EAAAY,KAAD,CAAMC,SAdV,SAAsBC,GACpBA,EAAMC,iBACN,IAAMC,EAAQT,EAAUU,OACxB,GAAc,KAAVD,GAAgBA,IAAUhB,EAA9B,CACA,IAAMkB,EAAS,IAAIhB,gBAAgB,CAAEc,MAAAA,IACrClB,EAAWqB,OAAO,CAAEf,OAAQ,IAAMc,EAAOE,eASvC,WACE,SAAC,EAAAC,MAAD,CAAOC,KAAK,QAAQC,KAAK,OAAOC,SAAUf,EAAWgB,SAP3D,SAA2BX,GACzBN,EAAaM,EAAMY,cAAcC,QAMqDA,MAAOpB,KACzF,SAAC,EAAAqB,OAAD,CAAQL,KAAK,SAASC,SAAUf,EAAhC,uBAEDT,IAAY,SAACN,EAAD,CAAesB,MAAOhB,EAAU6B,WAAY,kBAAMnB,GAAa,W,mJCtCrEE,EAAOkB,EAAAA,QAAAA,KAAH,qEAKJT,EAAQS,EAAAA,QAAAA,MAAH,yCAILF,EAASE,EAAAA,QAAAA,OAAH","sources":["components/Search.jsx","components/Search.styled.js"],"sourcesContent":["import { useState, useEffect, useMemo } from \"react\";\nimport { useUrlContext } from \"helpers/urlApi\";\nimport { Form, Input, Button } from \"./Search.styled\";\n\nimport { importUrlAssociated } from \"helpers/urlApi\";\nconst SearchResults = importUrlAssociated({ index: true }, \"components/SearchResults\");\n\n\nexport default function Search() {\n  const urlContext = useUrlContext();\n\n  const urlQuery = useMemo(() => {\n    return new URLSearchParams(urlContext.url.search).get(\"query\");\n  }, [urlContext.url.search]);\n  const [formQuery, setFormQuery] = useState(urlQuery || \"\");\n  const [isPending, setIsPending] = useState(false);\n\n  useEffect(() => { // Updates pending status and current form query string to match urlQuery changes\n    setIsPending(urlQuery)\n    setFormQuery(urlQuery || \"\");\n  }, [urlQuery]);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const query = formQuery.trim();\n    if (query === \"\" || query === urlQuery) return;\n    const params = new URLSearchParams({ query });\n    urlContext.setUrl({ search: \"?\" + params.toString() });\n  }\n\n  function handleInputChange(event) {\n    setFormQuery(event.currentTarget.value);\n  }\n\n  return (\n    <>\n      <Form onSubmit={handleSubmit}>\n        <Input name=\"query\" type=\"text\" disabled={isPending} onChange={handleInputChange} value={formQuery} />\n        <Button type=\"submit\" disabled={isPending}>Search</Button>\n      </Form>\n      {urlQuery && <SearchResults query={urlQuery} resolvedCb={() => setIsPending(false)} />}\n    </>\n  );\n}","import styled from \"styled-components\";\n\nexport const Form = styled.form`\n  margin-top: 20px;\n  margin-bottom: 20px;\n`;\n\nexport const Input = styled.input`\n  width: 400px;\n`;\n\nexport const Button = styled.button`\n  margin-left: 5px;\n  padding-left: 10px;\n  padding-right: 10px;\n`;"],"names":["SearchResults","importUrlAssociated","index","Search","urlContext","useUrlContext","urlQuery","useMemo","URLSearchParams","url","search","get","useState","formQuery","setFormQuery","isPending","setIsPending","useEffect","Form","onSubmit","event","preventDefault","query","trim","params","setUrl","toString","Input","name","type","disabled","onChange","currentTarget","value","Button","resolvedCb","styled"],"sourceRoot":""}